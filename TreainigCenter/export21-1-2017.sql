--------------------------------------------------------
--  File created - Saturday-January-21-2017   
--------------------------------------------------------
DROP TABLE "CENTER"."APPOINTMENT" cascade constraints;
DROP TABLE "CENTER"."ATTENDANCE" cascade constraints;
DROP TABLE "CENTER"."CENTERBRANCH" cascade constraints;
DROP TABLE "CENTER"."COMISSIONS" cascade constraints;
DROP TABLE "CENTER"."COURSES" cascade constraints;
DROP TABLE "CENTER"."DEPARTMENTS" cascade constraints;
DROP TABLE "CENTER"."EMPLOYEES" cascade constraints;
DROP TABLE "CENTER"."EXAMDETAIL" cascade constraints;
DROP TABLE "CENTER"."EXAMS" cascade constraints;
DROP TABLE "CENTER"."GROUPS" cascade constraints;
DROP TABLE "CENTER"."PAYROLL" cascade constraints;
DROP TABLE "CENTER"."REGISTERS" cascade constraints;
DROP TABLE "CENTER"."ROOMS" cascade constraints;
DROP TABLE "CENTER"."STUDENTS" cascade constraints;
DROP TABLE "CENTER"."SUBATTEND" cascade constraints;
DROP TABLE "CENTER"."USERS" cascade constraints;
DROP TABLE "CENTER"."VALIDATIONS" cascade constraints;
DROP SEQUENCE "CENTER"."COURSES_SEQ";
DROP SEQUENCE "CENTER"."SEQAPPOINTMENT";
DROP SEQUENCE "CENTER"."SEQATTENDANCE";
DROP SEQUENCE "CENTER"."SEQBRANCH";
DROP SEQUENCE "CENTER"."SEQCOMISSION";
DROP SEQUENCE "CENTER"."SEQCOURSES";
DROP SEQUENCE "CENTER"."SEQDEPT";
DROP SEQUENCE "CENTER"."SEQEMPLOYEES";
DROP SEQUENCE "CENTER"."SEQEXAMS";
DROP SEQUENCE "CENTER"."SEQEXAMSDETAIL";
DROP SEQUENCE "CENTER"."SEQGROUP";
DROP SEQUENCE "CENTER"."SEQPAYROLL";
DROP SEQUENCE "CENTER"."SEQREGISTER";
DROP SEQUENCE "CENTER"."SEQROOMS";
DROP SEQUENCE "CENTER"."SEQSTUDENTS";
DROP SEQUENCE "CENTER"."SEQSUBATTEND";
DROP FUNCTION "CENTER"."COURSEWITHINSTRUCTOR";
DROP FUNCTION "CENTER"."DAYS";
DROP FUNCTION "CENTER"."GROUPS_APPOINTMENT";
DROP PROCEDURE "CENTER"."ATTEND";
DROP PROCEDURE "CENTER"."LOAD_FILE";
DROP TYPE "CENTER"."T1_COL";
DROP TYPE "CENTER"."T1_NESTED_TABLE";
DROP TYPE "CENTER"."T_COL";
DROP TYPE "CENTER"."T_NESTED_TABLE";
--------------------------------------------------------
--  DDL for Type T1_COL
--------------------------------------------------------

  CREATE OR REPLACE TYPE "CENTER"."T1_COL" as object (
  Coursecode varchar2(90),
  coursename varchar2(15),
  inscode varchar2(15),
  insname varchar2(40),
  opengroup varchar2(15)
);

/
--------------------------------------------------------
--  DDL for Type T1_NESTED_TABLE
--------------------------------------------------------

  CREATE OR REPLACE TYPE "CENTER"."T1_NESTED_TABLE" as table of t1_col;

/
--------------------------------------------------------
--  DDL for Type T_COL
--------------------------------------------------------

  CREATE OR REPLACE TYPE "CENTER"."T_COL" as object (
  seq number,
  Coursename varchar2(90),
  insname varchar2(50),
  GroupNO varchar2(15),
  RoomNO varchar2(15),
  Per varchar2(40),
  dayName varchar2(15),
  StartTimes varchar2(25),
  endTimes varchar2(25)
);

/
--------------------------------------------------------
--  DDL for Type T_NESTED_TABLE
--------------------------------------------------------

  CREATE OR REPLACE TYPE "CENTER"."T_NESTED_TABLE" as table of t_col;

/
--------------------------------------------------------
--  DDL for Sequence COURSES_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "CENTER"."COURSES_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 83 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQAPPOINTMENT
--------------------------------------------------------

   CREATE SEQUENCE  "CENTER"."SEQAPPOINTMENT"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 65 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQATTENDANCE
--------------------------------------------------------

   CREATE SEQUENCE  "CENTER"."SEQATTENDANCE"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 105 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQBRANCH
--------------------------------------------------------

   CREATE SEQUENCE  "CENTER"."SEQBRANCH"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 16 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQCOMISSION
--------------------------------------------------------

   CREATE SEQUENCE  "CENTER"."SEQCOMISSION"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 15 CACHE 2 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQCOURSES
--------------------------------------------------------

   CREATE SEQUENCE  "CENTER"."SEQCOURSES"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 32 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQDEPT
--------------------------------------------------------

   CREATE SEQUENCE  "CENTER"."SEQDEPT"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 15 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQEMPLOYEES
--------------------------------------------------------

   CREATE SEQUENCE  "CENTER"."SEQEMPLOYEES"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQEXAMS
--------------------------------------------------------

   CREATE SEQUENCE  "CENTER"."SEQEXAMS"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 13 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQEXAMSDETAIL
--------------------------------------------------------

   CREATE SEQUENCE  "CENTER"."SEQEXAMSDETAIL"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 17 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQGROUP
--------------------------------------------------------

   CREATE SEQUENCE  "CENTER"."SEQGROUP"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 30 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQPAYROLL
--------------------------------------------------------

   CREATE SEQUENCE  "CENTER"."SEQPAYROLL"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 72 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQREGISTER
--------------------------------------------------------

   CREATE SEQUENCE  "CENTER"."SEQREGISTER"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 33 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQROOMS
--------------------------------------------------------

   CREATE SEQUENCE  "CENTER"."SEQROOMS"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 18 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQSTUDENTS
--------------------------------------------------------

   CREATE SEQUENCE  "CENTER"."SEQSTUDENTS"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 36 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQSUBATTEND
--------------------------------------------------------

   CREATE SEQUENCE  "CENTER"."SEQSUBATTEND"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 53 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Table APPOINTMENT
--------------------------------------------------------

  CREATE TABLE "CENTER"."APPOINTMENT" 
   (	"MAINID" NUMBER, 
	"GROUP_ID" NUMBER, 
	"LECTUREDAY" NUMBER(1,0), 
	"STARTTIME" TIMESTAMP (6), 
	"ENDTIME" TIMESTAMP (6)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table ATTENDANCE
--------------------------------------------------------

  CREATE TABLE "CENTER"."ATTENDANCE" 
   (	"TABLEID" NUMBER, 
	"GROUPID" NUMBER, 
	"LECNUMBER" NUMBER, 
	"MONTHS" DATE, 
	"CLOSESTATUS" NUMBER(1,0), 
	"CYCLE" NUMBER(5,0), 
	"SEQ" NUMBER(5,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

   COMMENT ON COLUMN "CENTER"."ATTENDANCE"."CLOSESTATUS" IS '1 open
0 closed';
--------------------------------------------------------
--  DDL for Table CENTERBRANCH
--------------------------------------------------------

  CREATE TABLE "CENTER"."CENTERBRANCH" 
   (	"CENTERID" NUMBER, 
	"CENTERNAME" VARCHAR2(100 BYTE), 
	"CENTERADDRESS" VARCHAR2(100 BYTE), 
	"CENTER_MANGERID" NUMBER, 
	"OPENTIME" TIMESTAMP (6), 
	"CLOSETIME" TIMESTAMP (6)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table COMISSIONS
--------------------------------------------------------

  CREATE TABLE "CENTER"."COMISSIONS" 
   (	"TABLEID" NUMBER, 
	"COMVALUE" NUMBER, 
	"COMCURRENCY" NUMBER, 
	"FROMDATE" DATE DEFAULT sysdate, 
	"TODATE" DATE, 
	"FACTORBEFORE" NUMBER, 
	"FACTOAFTER" NUMBER, 
	"COMTYPES" NUMBER(1,0) DEFAULT '0'
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table COURSES
--------------------------------------------------------

  CREATE TABLE "CENTER"."COURSES" 
   (	"COURSEID" NUMBER, 
	"COURSENAME" VARCHAR2(40 BYTE), 
	"COURSEPRICE" NUMBER, 
	"COURSEBLOCKED" CHAR(1 BYTE), 
	"COURSESTATUS" CHAR(1 BYTE), 
	"COURSEINSTRUCTOR" NUMBER, 
	"STARTDATE" DATE DEFAULT sysdate, 
	"ENDDATE" DATE, 
	"PAYMENT" CHAR(1 BYTE), 
	"CYCLE" NUMBER(3,0), 
	"CODE" VARCHAR2(10 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

   COMMENT ON COLUMN "CENTER"."COURSES"."PAYMENT" IS '0 One Time
1Per Session
2 per cycle
3 full free
4 +profit';
--------------------------------------------------------
--  DDL for Table DEPARTMENTS
--------------------------------------------------------

  CREATE TABLE "CENTER"."DEPARTMENTS" 
   (	"DEPARTMENTID" NUMBER, 
	"DEPARTMENTNAME" VARCHAR2(40 BYTE), 
	"DEPARTMENTMANGER" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table EMPLOYEES
--------------------------------------------------------

  CREATE TABLE "CENTER"."EMPLOYEES" 
   (	"EMPLOYEEID" NUMBER, 
	"EMPLOYEENAME" VARCHAR2(40 BYTE), 
	"EMPLOYEEEMAIL" VARCHAR2(30 BYTE), 
	"EMPLOYEEPHONE" VARCHAR2(11 BYTE), 
	"EMPLOYEESALARY" NUMBER, 
	"EMPLOYEEDEPARTMENT" NUMBER, 
	"EMPLOYEEBIRTHDAY" DATE, 
	"EMPLOYEEHIREDATE" DATE DEFAULT sysdate, 
	"GENDER" CHAR(1 BYTE), 
	"ADDRESS1" VARCHAR2(200 BYTE) DEFAULT ' ', 
	"ADDRESS2" VARCHAR2(200 BYTE) DEFAULT ' ', 
	"QUALIFICATION" VARCHAR2(200 BYTE) DEFAULT ' ', 
	"EDUCATION" VARCHAR2(200 BYTE) DEFAULT ' ', 
	"LANG1" VARCHAR2(200 BYTE) DEFAULT ' ', 
	"LANG2" VARCHAR2(200 BYTE) DEFAULT ' ', 
	"LANG3" VARCHAR2(200 BYTE) DEFAULT ' ', 
	"LANG4" VARCHAR2(200 BYTE) DEFAULT ' ', 
	"PROJECT1" VARCHAR2(200 BYTE) DEFAULT ' ', 
	"PROJECT2" VARCHAR2(200 BYTE) DEFAULT ' ', 
	"PROJECT3" VARCHAR2(200 BYTE) DEFAULT ' ', 
	"PROJECT4" VARCHAR2(200 BYTE) DEFAULT ' ', 
	"WORK1" VARCHAR2(200 BYTE) DEFAULT ' ', 
	"WORK2" VARCHAR2(200 BYTE) DEFAULT ' ', 
	"WORK3" VARCHAR2(200 BYTE) DEFAULT ' ', 
	"WORK4" VARCHAR2(200 BYTE) DEFAULT ' ', 
	"EXPE" VARCHAR2(200 BYTE) DEFAULT '0', 
	"POS" VARCHAR2(200 BYTE) DEFAULT ' '
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table EXAMDETAIL
--------------------------------------------------------

  CREATE TABLE "CENTER"."EXAMDETAIL" 
   (	"TABLEID" NUMBER, 
	"EXAMEPARENT" NUMBER, 
	"STDID" NUMBER, 
	"PAPERDEGREE" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table EXAMS
--------------------------------------------------------

  CREATE TABLE "CENTER"."EXAMS" 
   (	"TABLEID" NUMBER, 
	"NAMES" VARCHAR2(50 BYTE), 
	"COURSEID" NUMBER, 
	"GROUPID" NUMBER, 
	"MINDEGREE" NUMBER, 
	"MAXDEGREE" NUMBER, 
	"SUPERVISOR" NUMBER, 
	"EXAMSDATE" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table GROUPS
--------------------------------------------------------

  CREATE TABLE "CENTER"."GROUPS" 
   (	"TABLEID" NUMBER, 
	"GROUPID" NUMBER, 
	"COURSEID" NUMBER, 
	"ROOMID" NUMBER, 
	"PER" NUMBER(1,0), 
	"ENDATE" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table PAYROLL
--------------------------------------------------------

  CREATE TABLE "CENTER"."PAYROLL" 
   (	"TABLEID" NUMBER, 
	"PAYDATE" DATE, 
	"COURSEID" NUMBER, 
	"STDID" NUMBER, 
	"PAID" NUMBER, 
	"PCT" NUMBER, 
	"SEQ" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table REGISTERS
--------------------------------------------------------

  CREATE TABLE "CENTER"."REGISTERS" 
   (	"TABLEID" NUMBER, 
	"GROUPSID" NUMBER, 
	"STUDENT_ID" NUMBER, 
	"REGDATE" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table ROOMS
--------------------------------------------------------

  CREATE TABLE "CENTER"."ROOMS" 
   (	"TABLEID" NUMBER, 
	"BRANCHID" NUMBER, 
	"ROOMFLOOR" NUMBER, 
	"ROMMSEQ" NUMBER, 
	"MINCAPACITY" NUMBER, 
	"MAXCAPCITY" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table STUDENTS
--------------------------------------------------------

  CREATE TABLE "CENTER"."STUDENTS" 
   (	"STDID" NUMBER, 
	"STDNAME" VARCHAR2(40 BYTE), 
	"STDPHONE" VARCHAR2(11 BYTE), 
	"EMAIL" VARCHAR2(30 BYTE), 
	"STDGENDER" CHAR(1 BYTE), 
	"STDBIRTHDAY" DATE, 
	"STDYEAR" NUMBER, 
	"STDIMAGE" BLOB, 
	"PATH" VARCHAR2(100 BYTE), 
	"IMAGENAME" VARCHAR2(100 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" 
 LOB ("STDIMAGE") STORE AS BASICFILE (
  TABLESPACE "SYSTEM" ENABLE STORAGE IN ROW CHUNK 8192 RETENTION 
  NOCACHE LOGGING 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;
--------------------------------------------------------
--  DDL for Table SUBATTEND
--------------------------------------------------------

  CREATE TABLE "CENTER"."SUBATTEND" 
   (	"TABLEID" NUMBER, 
	"PARENTID" NUMBER, 
	"ST_ID" NUMBER, 
	"REGTIME" TIMESTAMP (6)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Table USERS
--------------------------------------------------------

  CREATE TABLE "CENTER"."USERS" 
   (	"USER_ID" NUMBER(*,0), 
	"USERNAME" VARCHAR2(20 BYTE), 
	"PASSWORD" VARCHAR2(20 BYTE), 
	"LOCKED" CHAR(1 BYTE) DEFAULT 0, 
	"BLOCKED" CHAR(1 BYTE) DEFAULT 0
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table VALIDATIONS
--------------------------------------------------------

  CREATE TABLE "CENTER"."VALIDATIONS" 
   (	"USER_ID" NUMBER(*,0), 
	"FORMID" VARCHAR2(100 BYTE), 
	"ADDING" CHAR(1 BYTE) DEFAULT '0', 
	"EDITE" CHAR(1 BYTE) DEFAULT '0', 
	"REMOVE" CHAR(1 BYTE) DEFAULT '0', 
	"VIEWDATA" CHAR(1 BYTE) DEFAULT '0', 
	"SHOWFORM" CHAR(1 BYTE) DEFAULT '0'
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
REM INSERTING into CENTER.APPOINTMENT
SET DEFINE OFF;
Insert into CENTER.APPOINTMENT (MAINID,GROUP_ID,LECTUREDAY,STARTTIME,ENDTIME) values (60,28,3,to_timestamp('01-JAN-17 01.00.00.000000000 PM','DD-MON-RR HH.MI.SSXFF AM'),to_timestamp('01-JAN-17 02.00.00.000000000 PM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into CENTER.APPOINTMENT (MAINID,GROUP_ID,LECTUREDAY,STARTTIME,ENDTIME) values (61,28,1,to_timestamp('01-JAN-17 01.00.00.000000000 PM','DD-MON-RR HH.MI.SSXFF AM'),to_timestamp('01-JAN-17 02.00.00.000000000 PM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into CENTER.APPOINTMENT (MAINID,GROUP_ID,LECTUREDAY,STARTTIME,ENDTIME) values (62,28,6,to_timestamp('01-JAN-17 01.00.00.000000000 PM','DD-MON-RR HH.MI.SSXFF AM'),to_timestamp('01-JAN-17 02.00.00.000000000 PM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into CENTER.APPOINTMENT (MAINID,GROUP_ID,LECTUREDAY,STARTTIME,ENDTIME) values (63,27,2,to_timestamp('01-JAN-17 09.00.00.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'),to_timestamp('01-JAN-17 11.00.00.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into CENTER.APPOINTMENT (MAINID,GROUP_ID,LECTUREDAY,STARTTIME,ENDTIME) values (64,27,3,to_timestamp('01-JAN-17 09.00.00.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'),to_timestamp('01-JAN-17 11.00.00.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
REM INSERTING into CENTER.ATTENDANCE
SET DEFINE OFF;
Insert into CENTER.ATTENDANCE (TABLEID,GROUPID,LECNUMBER,MONTHS,CLOSESTATUS,CYCLE,SEQ) values (104,27,2,to_date('08-JAN-17','DD-MON-RR'),0,null,null);
Insert into CENTER.ATTENDANCE (TABLEID,GROUPID,LECNUMBER,MONTHS,CLOSESTATUS,CYCLE,SEQ) values (97,28,1,to_date('06-JAN-17','DD-MON-RR'),0,1,1);
Insert into CENTER.ATTENDANCE (TABLEID,GROUPID,LECNUMBER,MONTHS,CLOSESTATUS,CYCLE,SEQ) values (103,27,1,to_date('01-JAN-17','DD-MON-RR'),0,null,null);
REM INSERTING into CENTER.CENTERBRANCH
SET DEFINE OFF;
Insert into CENTER.CENTERBRANCH (CENTERID,CENTERNAME,CENTERADDRESS,CENTER_MANGERID,OPENTIME,CLOSETIME) values (0,'10thRamadan','Sharkia',null,to_timestamp('11-JAN-17 08.00.18.406000000 AM','DD-MON-RR HH.MI.SSXFF AM'),to_timestamp('11-JAN-17 11.59.35.845000000 PM','DD-MON-RR HH.MI.SSXFF AM'));
REM INSERTING into CENTER.COMISSIONS
SET DEFINE OFF;
Insert into CENTER.COMISSIONS (TABLEID,COMVALUE,COMCURRENCY,FROMDATE,TODATE,FACTORBEFORE,FACTOAFTER,COMTYPES) values (11,30,0,to_date('12-JAN-17','DD-MON-RR'),to_date('01-JAN-20','DD-MON-RR'),30,99999,0);
Insert into CENTER.COMISSIONS (TABLEID,COMVALUE,COMCURRENCY,FROMDATE,TODATE,FACTORBEFORE,FACTOAFTER,COMTYPES) values (12,40,0,to_date('12-JAN-17','DD-MON-RR'),to_date('01-JAN-20','DD-MON-RR'),30,99999,0);
Insert into CENTER.COMISSIONS (TABLEID,COMVALUE,COMCURRENCY,FROMDATE,TODATE,FACTORBEFORE,FACTOAFTER,COMTYPES) values (13,40,0,to_date('12-JAN-17','DD-MON-RR'),to_date('01-JAN-20','DD-MON-RR'),30,99999,0);
REM INSERTING into CENTER.COURSES
SET DEFINE OFF;
Insert into CENTER.COURSES (COURSEID,COURSENAME,COURSEPRICE,COURSEBLOCKED,COURSESTATUS,COURSEINSTRUCTOR,STARTDATE,ENDDATE,PAYMENT,CYCLE,CODE) values (28,'JavaSE',3500,'0','0',19,to_date('12-JAN-17','DD-MON-RR'),to_date('05-MAY-17','DD-MON-RR'),'0',null,'CSC001');
Insert into CENTER.COURSES (COURSEID,COURSENAME,COURSEPRICE,COURSEBLOCKED,COURSESTATUS,COURSEINSTRUCTOR,STARTDATE,ENDDATE,PAYMENT,CYCLE,CODE) values (29,'OracleDB',3500,'0','0',18,to_date('12-JAN-17','DD-MON-RR'),to_date('15-SEP-17','DD-MON-RR'),'0',null,'CSC002');
Insert into CENTER.COURSES (COURSEID,COURSENAME,COURSEPRICE,COURSEBLOCKED,COURSESTATUS,COURSEINSTRUCTOR,STARTDATE,ENDDATE,PAYMENT,CYCLE,CODE) values (30,'Design',70,'0','0',19,to_date('12-JAN-17','DD-MON-RR'),to_date('01-MAR-17','DD-MON-RR'),'1',null,'CSC004');
Insert into CENTER.COURSES (COURSEID,COURSENAME,COURSEPRICE,COURSEBLOCKED,COURSESTATUS,COURSEINSTRUCTOR,STARTDATE,ENDDATE,PAYMENT,CYCLE,CODE) values (31,'CCNA',1000,'0','0',18,to_date('15-JAN-17','DD-MON-RR'),to_date('31-MAR-17','DD-MON-RR'),'2',5,null);
REM INSERTING into CENTER.DEPARTMENTS
SET DEFINE OFF;
Insert into CENTER.DEPARTMENTS (DEPARTMENTID,DEPARTMENTNAME,DEPARTMENTMANGER) values (0,'Seceretery',null);
Insert into CENTER.DEPARTMENTS (DEPARTMENTID,DEPARTMENTNAME,DEPARTMENTMANGER) values (14,'Instructor',18);
REM INSERTING into CENTER.EMPLOYEES
SET DEFINE OFF;
Insert into CENTER.EMPLOYEES (EMPLOYEEID,EMPLOYEENAME,EMPLOYEEEMAIL,EMPLOYEEPHONE,EMPLOYEESALARY,EMPLOYEEDEPARTMENT,EMPLOYEEBIRTHDAY,EMPLOYEEHIREDATE,GENDER,ADDRESS1,ADDRESS2,QUALIFICATION,EDUCATION,LANG1,LANG2,LANG3,LANG4,PROJECT1,PROJECT2,PROJECT3,PROJECT4,WORK1,WORK2,WORK3,WORK4,EXPE,POS) values (18,'Ahmed mahmoud','A.mahmoud@yahoo.com','01289286468',500,0,to_date('11-JAN-95','DD-MON-RR'),to_date('14-JAN-16','DD-MON-RR'),'1',' tft',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','0',' ');
Insert into CENTER.EMPLOYEES (EMPLOYEEID,EMPLOYEENAME,EMPLOYEEEMAIL,EMPLOYEEPHONE,EMPLOYEESALARY,EMPLOYEEDEPARTMENT,EMPLOYEEBIRTHDAY,EMPLOYEEHIREDATE,GENDER,ADDRESS1,ADDRESS2,QUALIFICATION,EDUCATION,LANG1,LANG2,LANG3,LANG4,PROJECT1,PROJECT2,PROJECT3,PROJECT4,WORK1,WORK2,WORK3,WORK4,EXPE,POS) values (19,'Ashraf ali','Ashraf.A@hotmail.com','01289286469',400,0,to_date('10-JAN-90','DD-MON-RR'),to_date('18-FEB-16','DD-MON-RR'),'1',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','0',' ');
Insert into CENTER.EMPLOYEES (EMPLOYEEID,EMPLOYEENAME,EMPLOYEEEMAIL,EMPLOYEEPHONE,EMPLOYEESALARY,EMPLOYEEDEPARTMENT,EMPLOYEEBIRTHDAY,EMPLOYEEHIREDATE,GENDER,ADDRESS1,ADDRESS2,QUALIFICATION,EDUCATION,LANG1,LANG2,LANG3,LANG4,PROJECT1,PROJECT2,PROJECT3,PROJECT4,WORK1,WORK2,WORK3,WORK4,EXPE,POS) values (20,'Gamal said','GS@hotmail.com','01147854789',500,14,to_date('12-JAN-93','DD-MON-RR'),to_date('06-JAN-15','DD-MON-RR'),'1',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','0',' ');
REM INSERTING into CENTER.EXAMDETAIL
SET DEFINE OFF;
Insert into CENTER.EXAMDETAIL (TABLEID,EXAMEPARENT,STDID,PAPERDEGREE) values (14,12,32,60);
Insert into CENTER.EXAMDETAIL (TABLEID,EXAMEPARENT,STDID,PAPERDEGREE) values (16,12,33,87);
REM INSERTING into CENTER.EXAMS
SET DEFINE OFF;
Insert into CENTER.EXAMS (TABLEID,NAMES,COURSEID,GROUPID,MINDEGREE,MAXDEGREE,SUPERVISOR,EXAMSDATE) values (12,'MidTerm_Java',28,27,20,100,18,to_date('15-JAN-16','DD-MON-RR'));
REM INSERTING into CENTER.GROUPS
SET DEFINE OFF;
Insert into CENTER.GROUPS (TABLEID,GROUPID,COURSEID,ROOMID,PER,ENDATE) values (27,1,28,16,0,to_date('05-MAY-17','DD-MON-RR'));
Insert into CENTER.GROUPS (TABLEID,GROUPID,COURSEID,ROOMID,PER,ENDATE) values (28,1,31,17,0,to_date('31-MAR-17','DD-MON-RR'));
REM INSERTING into CENTER.PAYROLL
SET DEFINE OFF;
Insert into CENTER.PAYROLL (TABLEID,PAYDATE,COURSEID,STDID,PAID,PCT,SEQ) values (71,to_date('08-JAN-17','DD-MON-RR'),28,31,3500,12,0);
Insert into CENTER.PAYROLL (TABLEID,PAYDATE,COURSEID,STDID,PAID,PCT,SEQ) values (69,to_date('08-JAN-17','DD-MON-RR'),28,33,3500,12,1);
REM INSERTING into CENTER.REGISTERS
SET DEFINE OFF;
Insert into CENTER.REGISTERS (TABLEID,GROUPSID,STUDENT_ID,REGDATE) values (-2,27,32,to_date('13-JAN-17','DD-MON-RR'));
Insert into CENTER.REGISTERS (TABLEID,GROUPSID,STUDENT_ID,REGDATE) values (30,27,33,to_date('20-JAN-17','DD-MON-RR'));
Insert into CENTER.REGISTERS (TABLEID,GROUPSID,STUDENT_ID,REGDATE) values (28,28,32,to_date('13-JAN-17','DD-MON-RR'));
Insert into CENTER.REGISTERS (TABLEID,GROUPSID,STUDENT_ID,REGDATE) values (29,28,33,to_date('13-JAN-17','DD-MON-RR'));
Insert into CENTER.REGISTERS (TABLEID,GROUPSID,STUDENT_ID,REGDATE) values (31,27,31,to_date('20-JAN-17','DD-MON-RR'));
Insert into CENTER.REGISTERS (TABLEID,GROUPSID,STUDENT_ID,REGDATE) values (32,27,34,to_date('20-JAN-17','DD-MON-RR'));
REM INSERTING into CENTER.ROOMS
SET DEFINE OFF;
Insert into CENTER.ROOMS (TABLEID,BRANCHID,ROOMFLOOR,ROMMSEQ,MINCAPACITY,MAXCAPCITY) values (16,0,1,1,20,21);
Insert into CENTER.ROOMS (TABLEID,BRANCHID,ROOMFLOOR,ROMMSEQ,MINCAPACITY,MAXCAPCITY) values (17,0,1,2,20,25);
REM INSERTING into CENTER.STUDENTS
SET DEFINE OFF;
Insert into CENTER.STUDENTS (STDID,STDNAME,STDPHONE,EMAIL,STDGENDER,STDBIRTHDAY,STDYEAR,PATH,IMAGENAME) values (31,'Moustfa ali','01045987563','M.A@Hti.edu','0',to_date('03-JAN-95','DD-MON-RR'),42013001,null,null);
Insert into CENTER.STUDENTS (STDID,STDNAME,STDPHONE,EMAIL,STDGENDER,STDBIRTHDAY,STDYEAR,PATH,IMAGENAME) values (32,'David shiref','01289286468','david@hotmail.org','0',to_date('09-APR-95','DD-MON-RR'),42013034,'A:\closed\personal photo',null);
Insert into CENTER.STUDENTS (STDID,STDNAME,STDPHONE,EMAIL,STDGENDER,STDBIRTHDAY,STDYEAR,PATH,IMAGENAME) values (33,'Yasser mahmoud','01065987456','Y.M@gmail.com','0',to_date('12-JAN-93','DD-MON-RR'),42013002,null,null);
Insert into CENTER.STUDENTS (STDID,STDNAME,STDPHONE,EMAIL,STDGENDER,STDBIRTHDAY,STDYEAR,PATH,IMAGENAME) values (34,'Barack obama','72785621458','B.O@USA.Gov','0',to_date('14-JAN-74','DD-MON-RR'),42013006,'C:\Users\David Sherif\Desktop','Barack-Obama-President-of-US.jpg');
Insert into CENTER.STUDENTS (STDID,STDNAME,STDPHONE,EMAIL,STDGENDER,STDBIRTHDAY,STDYEAR,PATH,IMAGENAME) values (35,'Mona ahmed','01125865448','MNona.A@hotmail.com','1',to_date('16-JAN-85','DD-MON-RR'),42010005,'C:\Users\David Sherif\Desktop','Barack-Obama-President-of-US.jpg');
REM INSERTING into CENTER.SUBATTEND
SET DEFINE OFF;
Insert into CENTER.SUBATTEND (TABLEID,PARENTID,ST_ID,REGTIME) values (49,104,33,to_timestamp('08-JAN-17 02.47.06.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into CENTER.SUBATTEND (TABLEID,PARENTID,ST_ID,REGTIME) values (46,97,32,to_timestamp('06-JAN-17 12.44.35.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into CENTER.SUBATTEND (TABLEID,PARENTID,ST_ID,REGTIME) values (47,103,31,to_timestamp('01-JAN-17 02.44.03.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into CENTER.SUBATTEND (TABLEID,PARENTID,ST_ID,REGTIME) values (48,103,32,to_timestamp('01-JAN-17 02.44.11.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into CENTER.SUBATTEND (TABLEID,PARENTID,ST_ID,REGTIME) values (50,104,32,to_timestamp('08-JAN-17 02.47.18.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into CENTER.SUBATTEND (TABLEID,PARENTID,ST_ID,REGTIME) values (51,104,34,to_timestamp('08-JAN-17 02.47.28.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
Insert into CENTER.SUBATTEND (TABLEID,PARENTID,ST_ID,REGTIME) values (52,104,31,to_timestamp('08-JAN-17 02.47.59.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'));
REM INSERTING into CENTER.USERS
SET DEFINE OFF;
Insert into CENTER.USERS (USER_ID,USERNAME,PASSWORD,LOCKED,BLOCKED) values (0,'admin','admin','0','0');
Insert into CENTER.USERS (USER_ID,USERNAME,PASSWORD,LOCKED,BLOCKED) values (1,'user','user','0','0');
REM INSERTING into CENTER.VALIDATIONS
SET DEFINE OFF;
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (0,'Students.Students','1','1','1','1','1');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (0,'employees.employees','1','1','1','1','1');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (0,'Departments.Department','1','1','1','1','1');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (0,'Centers.Center','1','1','1','1','1');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (0,'Courses.Course','1','1','1','1','1');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (0,'Login_USER.AddUser','1','1','1','1','1');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (0,'Login_USER.EditeUser','1','1','1','1','1');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (0,'Attendances.Attendance','1','1','1','1','1');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (0,'Dashboard.ParentDash','1','1','1','1','1');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (0,'Exams.Exams','1','1','1','1','1');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (0,'Exams.ExamsDetail','1','1','1','1','1');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (0,'Branchs.Branch','1','1','1','1','1');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (0,'Groups.Group','1','1','1','1','1');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (0,'Registers.Regester','1','1','1','1','1');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (0,'CenterComission.Comissions','1','1','1','1','1');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (0,'Privilage','1','1','1','1','1');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (0,'payroll.StudentPayment','1','1','1','1','1');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (0,'Instuctor_CV.CV','1','1','1','1','1');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (1,'Students.Students','0','0','0','0','0');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (1,'employees.employees','0','0','0','0','0');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (1,'Departments.Department','0','0','0','0','0');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (1,'Centers.Center','0','0','0','0','0');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (1,'Courses.Course','0','0','0','0','0');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (1,'Login_USER.AddUser','0','0','0','0','0');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (1,'Login_USER.EditeUser','0','0','0','0','0');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (1,'Attendances.Attendance','0','0','0','0','0');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (1,'Dashboard.ParentDash','0','0','0','0','0');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (1,'Exams.Exams','0','0','0','0','0');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (1,'Exams.ExamsDetail','0','0','0','0','0');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (1,'Branchs.Branch','0','0','0','0','0');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (1,'Groups.Group','0','0','0','0','0');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (1,'Registers.Regester','0','0','0','0','0');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (1,'CenterComission.Comissions','0','0','0','0','0');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (1,'Privilage','0','0','0','0','0');
Insert into CENTER.VALIDATIONS (USER_ID,FORMID,ADDING,EDITE,REMOVE,VIEWDATA,SHOWFORM) values (1,'payroll.StudentPayment','0','0','0','0','0');
--------------------------------------------------------
--  DDL for Index ROOMS_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "CENTER"."ROOMS_PK" ON "CENTER"."ROOMS" ("TABLEID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index DEPT_DEPARTMENTNAME_UNIQUE
--------------------------------------------------------

  CREATE UNIQUE INDEX "CENTER"."DEPT_DEPARTMENTNAME_UNIQUE" ON "CENTER"."DEPARTMENTS" ("DEPARTMENTNAME") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index EMPLOYEES_EMPLOYEEDNAME_UNIQUE
--------------------------------------------------------

  CREATE UNIQUE INDEX "CENTER"."EMPLOYEES_EMPLOYEEDNAME_UNIQUE" ON "CENTER"."EMPLOYEES" ("EMPLOYEENAME") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index STUDENTS_STDDNAME_UNIQUE
--------------------------------------------------------

  CREATE UNIQUE INDEX "CENTER"."STUDENTS_STDDNAME_UNIQUE" ON "CENTER"."STUDENTS" ("STDNAME") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index CENTERBRANCH_CENTERID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "CENTER"."CENTERBRANCH_CENTERID_PK" ON "CENTER"."CENTERBRANCH" ("CENTERID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index COURSES_COURSEDNAME_UNIQUE
--------------------------------------------------------

  CREATE UNIQUE INDEX "CENTER"."COURSES_COURSEDNAME_UNIQUE" ON "CENTER"."COURSES" ("COURSENAME") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index STUDENTS_STDID_PRIMARYKEY
--------------------------------------------------------

  CREATE UNIQUE INDEX "CENTER"."STUDENTS_STDID_PRIMARYKEY" ON "CENTER"."STUDENTS" ("STDID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index USERS_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "CENTER"."USERS_PK" ON "CENTER"."USERS" ("USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C007079
--------------------------------------------------------

  CREATE UNIQUE INDEX "CENTER"."SYS_C007079" ON "CENTER"."USERS" ("PASSWORD") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index DEPT_DEPARTMENTID_PRIMARYKEY
--------------------------------------------------------

  CREATE UNIQUE INDEX "CENTER"."DEPT_DEPARTMENTID_PRIMARYKEY" ON "CENTER"."DEPARTMENTS" ("DEPARTMENTID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index COURSES_COURSEID_PRIMARYKEY
--------------------------------------------------------

  CREATE UNIQUE INDEX "CENTER"."COURSES_COURSEID_PRIMARYKEY" ON "CENTER"."COURSES" ("COURSEID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index GROUPS_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "CENTER"."GROUPS_PK" ON "CENTER"."GROUPS" ("TABLEID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  DDL for Index EMP_EMPID_PRIMARYKEY
--------------------------------------------------------

  CREATE UNIQUE INDEX "CENTER"."EMP_EMPID_PRIMARYKEY" ON "CENTER"."EMPLOYEES" ("EMPLOYEEID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
--------------------------------------------------------
--  Constraints for Table USERS
--------------------------------------------------------

  ALTER TABLE "CENTER"."USERS" MODIFY ("USER_ID" NOT NULL ENABLE);
  ALTER TABLE "CENTER"."USERS" MODIFY ("USERNAME" NOT NULL ENABLE);
  ALTER TABLE "CENTER"."USERS" MODIFY ("PASSWORD" NOT NULL ENABLE);
  ALTER TABLE "CENTER"."USERS" MODIFY ("LOCKED" NOT NULL ENABLE);
  ALTER TABLE "CENTER"."USERS" ADD CONSTRAINT "USERS_PK" PRIMARY KEY ("USER_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "CENTER"."USERS" ADD UNIQUE ("PASSWORD")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table COURSES
--------------------------------------------------------

  ALTER TABLE "CENTER"."COURSES" MODIFY ("STARTDATE" NOT NULL ENABLE);
  ALTER TABLE "CENTER"."COURSES" ADD CONSTRAINT "COURSES_COURSEDNAME_UNIQUE" UNIQUE ("COURSENAME")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "CENTER"."COURSES" ADD CONSTRAINT "COURSES_COURSEID_PRIMARYKEY" PRIMARY KEY ("COURSEID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table CENTERBRANCH
--------------------------------------------------------

  ALTER TABLE "CENTER"."CENTERBRANCH" ADD CONSTRAINT "CENTERBRANCH_CENTERID_PK" PRIMARY KEY ("CENTERID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table SUBATTEND
--------------------------------------------------------

  ALTER TABLE "CENTER"."SUBATTEND" ADD PRIMARY KEY ("TABLEID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table EMPLOYEES
--------------------------------------------------------

  ALTER TABLE "CENTER"."EMPLOYEES" ADD CONSTRAINT "EMPLOYEES_EMPLOYEEDNAME_UNIQUE" UNIQUE ("EMPLOYEENAME")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "CENTER"."EMPLOYEES" ADD CONSTRAINT "EMP_EMPID_PRIMARYKEY" PRIMARY KEY ("EMPLOYEEID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table EXAMDETAIL
--------------------------------------------------------

  ALTER TABLE "CENTER"."EXAMDETAIL" ADD PRIMARY KEY ("TABLEID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table ATTENDANCE
--------------------------------------------------------

  ALTER TABLE "CENTER"."ATTENDANCE" ADD PRIMARY KEY ("TABLEID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table ROOMS
--------------------------------------------------------

  ALTER TABLE "CENTER"."ROOMS" ADD CONSTRAINT "ROOMS_PK" PRIMARY KEY ("TABLEID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "CENTER"."ROOMS" MODIFY ("TABLEID" NOT NULL ENABLE);
  ALTER TABLE "CENTER"."ROOMS" MODIFY ("BRANCHID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table PAYROLL
--------------------------------------------------------

  ALTER TABLE "CENTER"."PAYROLL" ADD PRIMARY KEY ("TABLEID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table STUDENTS
--------------------------------------------------------

  ALTER TABLE "CENTER"."STUDENTS" ADD CONSTRAINT "STUDENTS_STDDNAME_UNIQUE" UNIQUE ("STDNAME")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "CENTER"."STUDENTS" ADD CONSTRAINT "STUDENTS_STDID_PRIMARYKEY" PRIMARY KEY ("STDID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table EXAMS
--------------------------------------------------------

  ALTER TABLE "CENTER"."EXAMS" ADD PRIMARY KEY ("TABLEID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table COMISSIONS
--------------------------------------------------------

  ALTER TABLE "CENTER"."COMISSIONS" ADD PRIMARY KEY ("TABLEID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "CENTER"."COMISSIONS" MODIFY ("COMVALUE" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table APPOINTMENT
--------------------------------------------------------

  ALTER TABLE "CENTER"."APPOINTMENT" ADD PRIMARY KEY ("MAINID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table REGISTERS
--------------------------------------------------------

  ALTER TABLE "CENTER"."REGISTERS" ADD PRIMARY KEY ("TABLEID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "CENTER"."REGISTERS" MODIFY ("REGDATE" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table DEPARTMENTS
--------------------------------------------------------

  ALTER TABLE "CENTER"."DEPARTMENTS" ADD CONSTRAINT "DEPT_DEPARTMENTNAME_UNIQUE" UNIQUE ("DEPARTMENTNAME")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "CENTER"."DEPARTMENTS" ADD CONSTRAINT "DEPT_DEPARTMENTID_PRIMARYKEY" PRIMARY KEY ("DEPARTMENTID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
--------------------------------------------------------
--  Constraints for Table GROUPS
--------------------------------------------------------

  ALTER TABLE "CENTER"."GROUPS" ADD CONSTRAINT "GROUPS_PK" PRIMARY KEY ("TABLEID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE;
  ALTER TABLE "CENTER"."GROUPS" MODIFY ("TABLEID" NOT NULL ENABLE);
--------------------------------------------------------
--  Ref Constraints for Table APPOINTMENT
--------------------------------------------------------

  ALTER TABLE "CENTER"."APPOINTMENT" ADD CONSTRAINT "SYS_C007285_EE" FOREIGN KEY ("GROUP_ID")
	  REFERENCES "CENTER"."GROUPS" ("TABLEID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table ATTENDANCE
--------------------------------------------------------

  ALTER TABLE "CENTER"."ATTENDANCE" ADD CONSTRAINT "SYS_C007411_EE" FOREIGN KEY ("GROUPID")
	  REFERENCES "CENTER"."GROUPS" ("TABLEID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table CENTERBRANCH
--------------------------------------------------------

  ALTER TABLE "CENTER"."CENTERBRANCH" ADD CONSTRAINT "CENTRBRN_CENTERMANGERID_FK_EE" FOREIGN KEY ("CENTER_MANGERID")
	  REFERENCES "CENTER"."EMPLOYEES" ("EMPLOYEEID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table EMPLOYEES
--------------------------------------------------------

  ALTER TABLE "CENTER"."EMPLOYEES" ADD CONSTRAINT "EMP_EMPLOYEEDEPART_FK_E" FOREIGN KEY ("EMPLOYEEDEPARTMENT")
	  REFERENCES "CENTER"."DEPARTMENTS" ("DEPARTMENTID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table EXAMDETAIL
--------------------------------------------------------

  ALTER TABLE "CENTER"."EXAMDETAIL" ADD FOREIGN KEY ("EXAMEPARENT")
	  REFERENCES "CENTER"."EXAMS" ("TABLEID") ENABLE;
  ALTER TABLE "CENTER"."EXAMDETAIL" ADD FOREIGN KEY ("STDID")
	  REFERENCES "CENTER"."STUDENTS" ("STDID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table EXAMS
--------------------------------------------------------

  ALTER TABLE "CENTER"."EXAMS" ADD FOREIGN KEY ("COURSEID")
	  REFERENCES "CENTER"."COURSES" ("COURSEID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "CENTER"."EXAMS" ADD FOREIGN KEY ("GROUPID")
	  REFERENCES "CENTER"."GROUPS" ("TABLEID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table GROUPS
--------------------------------------------------------

  ALTER TABLE "CENTER"."GROUPS" ADD CONSTRAINT "FK198_E" FOREIGN KEY ("COURSEID")
	  REFERENCES "CENTER"."COURSES" ("COURSEID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "CENTER"."GROUPS" ADD CONSTRAINT "FK199_E" FOREIGN KEY ("ROOMID")
	  REFERENCES "CENTER"."ROOMS" ("TABLEID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PAYROLL
--------------------------------------------------------

  ALTER TABLE "CENTER"."PAYROLL" ADD CONSTRAINT "SYS_C007706_E" FOREIGN KEY ("COURSEID")
	  REFERENCES "CENTER"."COURSES" ("COURSEID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "CENTER"."PAYROLL" ADD CONSTRAINT "SYS_C007707_E" FOREIGN KEY ("STDID")
	  REFERENCES "CENTER"."STUDENTS" ("STDID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "CENTER"."PAYROLL" ADD CONSTRAINT "SYS_C007708_E" FOREIGN KEY ("PCT")
	  REFERENCES "CENTER"."COMISSIONS" ("TABLEID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table REGISTERS
--------------------------------------------------------

  ALTER TABLE "CENTER"."REGISTERS" ADD CONSTRAINT "FK1_REGISTER_E" FOREIGN KEY ("GROUPSID")
	  REFERENCES "CENTER"."GROUPS" ("TABLEID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "CENTER"."REGISTERS" ADD CONSTRAINT "FK1_STUDENTS_E" FOREIGN KEY ("STUDENT_ID")
	  REFERENCES "CENTER"."STUDENTS" ("STDID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table ROOMS
--------------------------------------------------------

  ALTER TABLE "CENTER"."ROOMS" ADD CONSTRAINT "ROOMS_CENTER_ID_E" FOREIGN KEY ("BRANCHID")
	  REFERENCES "CENTER"."CENTERBRANCH" ("CENTERID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table SUBATTEND
--------------------------------------------------------

  ALTER TABLE "CENTER"."SUBATTEND" ADD CONSTRAINT "SYS_C007413_E" FOREIGN KEY ("PARENTID")
	  REFERENCES "CENTER"."ATTENDANCE" ("TABLEID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "CENTER"."SUBATTEND" ADD CONSTRAINT "SYS_C007414_E" FOREIGN KEY ("ST_ID")
	  REFERENCES "CENTER"."STUDENTS" ("STDID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table VALIDATIONS
--------------------------------------------------------

  ALTER TABLE "CENTER"."VALIDATIONS" ADD CONSTRAINT "FK" FOREIGN KEY ("USER_ID")
	  REFERENCES "CENTER"."USERS" ("USER_ID") ENABLE;
--------------------------------------------------------
--  DDL for Trigger PRIV
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "CENTER"."PRIV" AFTER insert on users FOR EACH ROW
  DECLARE
 
  BEGIN 
 
  insert into validations values(:new.user_ID,'Students.Students','0','0','0','0','0');
  insert into validations values(:new.user_ID,'employees.employees','0','0','0','0','0');
  insert into validations values(:new.user_ID,'Departments.Department','0','0','0','0','0');
  insert into validations values(:new.user_ID,'Centers.Center','0','0','0','0','0');
  insert into validations values(:new.user_ID,'Courses.Course','0','0','0','0','0');
  insert into validations values(:new.user_ID,'Login_USER.AddUser','0','0','0','0','0');
  insert into validations values(:new.user_ID,'Login_USER.EditeUser','0','0','0','0','0');
  insert into validations values(:new.user_ID,'Attendances.Attendance','0','0','0','0','0');
  insert into validations values(:new.user_ID,'Dashboard.ParentDash','0','0','0','0','0');
  insert into validations values(:new.user_ID,'Exams.Exams','0','0','0','0','0');
  insert into validations values(:new.user_ID,'Exams.ExamsDetail','0','0','0','0','0');
  insert into validations values(:new.user_ID,'Branchs.Branch','0','0','0','0','0');
  insert into validations values(:new.user_ID,'Groups.Group','0','0','0','0','0');
  insert into validations values(:new.user_ID,'Registers.Regester','0','0','0','0','0');
  insert into validations values(:new.user_ID,'CenterComission.Comissions','0','0','0','0','0');
  insert into validations values(:new.user_ID,'Privilage','0','0','0','0','0');
  insert into validations values(:new.user_ID,'payroll.StudentPayment','0','0','0','0','0');
end;
/
ALTER TRIGGER "CENTER"."PRIV" ENABLE;
--------------------------------------------------------
--  DDL for Trigger REG_CAPACITY
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "CENTER"."REG_CAPACITY" BEFORE insert on registers 
FOR EACH ROW
DECLARE
maxy number;
counter number;
BEGIN

--select (MAXCAPCITY) INTO maxy from rooms 
--JOIN GROUPS on GROUPS.TABLEID=ROOMS.TABLEID
--where GROUPS.GROUPID=
--        (select groupid from GROUPS where GROUPS.tableID=:NEW.GROUPSID);


--select (MAXCAPCITY) INTO maxy from rooms 
--where tableid=(select ROOMS.TABLEID from rooms where tableid=:NEW.GROUPSID);


select (MAXCAPCITY)  INTO maxy   from rooms 
where tableid=(select ROOMid from groups where groups.tableid=:NEW.GROUPSID);


select count(student_id+1) into counter from registers;

IF (counter >= maxy) then --true Ignore
    RAISE_APPLICATION_ERROR(-20002, 'Group IS Closed - Full Number Registered');
  end if;

end;
/
ALTER TRIGGER "CENTER"."REG_CAPACITY" ENABLE;
--------------------------------------------------------
--  DDL for Trigger SCHEDULE
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "CENTER"."SCHEDULE" BEFORE INSERT ON Appointment FOR EACH ROW
 DECLARE
starttime1 timestamp;
endtime1 timestamp;
lecday number;
room number;
seq number;

  CURSOR   sch_cursor(rom number) IS

SELECT  starttime,
        endtime
from Appointment JOIN GROUPS ON APPOINTMENT.GROUP_ID=GROUPS.TABLEID
WHERE    ROOMID=rom AND  APPOINTMENT.LECTUREDAY=:new.lectureday;

BEGIN   

select groups.roomID into room from groups 
where tableID=(select max(tableid) from groups);

OPEN sch_cursor (room) ;
  LOOP
   FETCH sch_cursor INTO starttime1, endtime1;
IF(
   ( (:new.starttime BETWEEN starttime1 AND endtime1)or
     (:new.endtime BETWEEN starttime1 and endtime1) ) or
     (:new.starttime NOT BETWEEN starttime1 AND endtime1 AND :new.endtime NOT BETWEEN starttime1 AND endtime1 and endtime1<:new.endtime and :new.starttime<starttime1)
     
  )

THEN  RAISE_APPLICATION_ERROR(-20105, 'Another Groups on Same Time');

else null;
end if ;
     EXIT WHEN    sch_cursor%NOTFOUND;        
end loop;
end;
/
ALTER TRIGGER "CENTER"."SCHEDULE" ENABLE;
--------------------------------------------------------
--  DDL for Trigger SEQUENCE_CYCLE
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "CENTER"."SEQUENCE_CYCLE" after INSERT on attendance for each row
declare
paytype varchar2(1);
cycls number;
maxx number;
testing VARCHAR2 (1);
begin


commit;

select payment,cycle into paytype,cycls from courses where courseid=(select courseid from groups where tableid=:new.groupid);

if(paytype='2')then
  select max(attendance.cycle) into maxx from attendance where attendance.groupid=:new.groupid;
  
  if(maxx=cycls) then 
        update attendance set cycle=1 where tableid=:new.Tableid;
  else  update attendance set 
        ATTENDANCE.CYCLE=(select (max(cycle)+1) from attendance where groupid=:new.GROUPID) 
        where tableid=:new.Tableid;
  end if;
end if;

end ;
/
ALTER TRIGGER "CENTER"."SEQUENCE_CYCLE" DISABLE;
--------------------------------------------------------
--  DDL for Trigger UPDATE_AUTOMATIC
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "CENTER"."UPDATE_AUTOMATIC" AFTER logon on schema 
begin
--Courses
UPDATE courses set coursestatus='1' where enddate<sysdate and coursestatus<>'1';
--attendace
update attendance set closestatus=0 where 
to_char(months,'DD-MM-YYYY')<> to_char(Sysdate,'DD-MM-YYYY') and closestatus<>0;
COMMIT;
end;
/
ALTER TRIGGER "CENTER"."UPDATE_AUTOMATIC" ENABLE;
BEGIN 
  DBMS_DDL.SET_TRIGGER_FIRING_PROPERTY('"CENTER"','"UPDATE_AUTOMATIC"',FALSE) ; 
END;

/
--------------------------------------------------------
--  DDL for Function COURSEWITHINSTRUCTOR
--------------------------------------------------------

  CREATE OR REPLACE FUNCTION "CENTER"."COURSEWITHINSTRUCTOR" return t1_nested_table as
  v1_ret   t1_nested_table;
  
  Coursecode varchar2(90);
  coursename varchar2(15);
  inscode varchar2(15);
  insname varchar2(40);
  opengroup varchar2(15);
  courseid_ VARCHAR2(20);
  
  CURSOR course_ IS select courseid,COURSES.code,coursename,EMPLOYEES.EMPLOYEEID,employeename from COURSES JOIN EMPLOYEES on COURSES.COURSEINSTRUCTOR=EMPLOYEES.EMPLOYEEID where COURSES.COURSEBLOCKED='0'and NVL(ENDDATE,sysdate)>=sysdate;

begin

OPEN course_;
v1_ret  := t1_nested_table(); 

loop 
  FETCH course_ into courseid_,Coursecode,coursename,inscode,insname;
  
EXIT when course_%NOTFOUND;
v1_ret.extend;
           begin
              select count(tableid) into opengroup  from groups  where COURSEID=courseid_  GROUP BY GROUPs.COURSEID;
              if SQL%ROwCount =1 then
              v1_ret(v1_ret.count) := t1_col(Coursecode, coursename,inscode,insname,opengroup);
              end if;
          EXCEPTION when NO_DATA_FOUND then 
              v1_ret(v1_ret.count) := t1_col(Coursecode, coursename,inscode,insname,'0');
 
  end;
     
end loop ;
 
 
  return v1_ret;
end courseWithInstructor;

/
--------------------------------------------------------
--  DDL for Function DAYS
--------------------------------------------------------

  CREATE OR REPLACE FUNCTION "CENTER"."DAYS" (daynumber number) RETURN VARCHAR2 is
 BEGIN
 
 case (to_char(daynumber)) 
                       when '1'THEN RETURN 'Sunday';
                       when '2'THEN RETURN 'Monday';
                       when '3'THEN RETURN 'Tuesday';
                       when '4'THEN RETURN 'Wednesday';
                       when '5'THEN RETURN 'Thursday';
                       when '6'THEN RETURN 'Friday';
                       when '7'THEN RETURN 'Sturday' ;
                       else return 'Not_Day_Week';
                        
 end case;
end DAYS;

/
--------------------------------------------------------
--  DDL for Function GROUPS_APPOINTMENT
--------------------------------------------------------

  CREATE OR REPLACE FUNCTION "CENTER"."GROUPS_APPOINTMENT" return t_nested_table as
  v_ret   t_nested_table;
  seq number;
  Coursename varchar2(90);
  insname varchar2(50);
  GroupNO varchar2(15);
  RoomNO varchar2(15);
  Pers varchar2(40);
  dayName varchar2(15);
  StartTimes varchar2(25);
  endTimes varchar2(25);
  
  CURSOR GROUPS_Parent IS select GROUPS.TableID, coursename ,E.EMPLOYEENAME ,to_char(groupID), roomfloor||'0'||rommseq,    case(per) when 0 then 'Every Week' else 'Every Month' end from COURSES JOIN   GROUPS ON GROUPS.COURSEID = COURSES.COURSEID JOIN ROOMS on ROOMS.TABLEID = GROUPS.ROOMID join employees e on E.EMPLOYEEID =COURSES.COURSEINSTRUCTOR ;
  CURSOR GROUPS_Child(Parent_ID number) is select DAYS(lectureday),to_char(starttime,'hh:mi am'), to_char(endtime,'hh:mi am') from APPOINTMENT  where Appointment.group_ID=Parent_ID;

begin

OPEN GROUPS_Parent;
v_ret  := t_nested_table(); 

<<l1>>
loop 
  FETCH GROUPS_Parent into seq,Coursename,insname,GroupNo,RoomNo,pers;
 -- v_ret.extend;
  OPEN GROUPS_Child(seq);
EXIT when GROUPS_Parent%NOTFOUND;
  <<l2>>
  loop 
    fetch GROUPS_Child into dayName,StartTimes,endTimes;
  EXIT when GROUPS_Child%NOTFOUND;
    v_ret.extend;
    v_ret(v_ret.count) := t_col(seq, Coursename,insname,GroupNo,RoomNo,pers,dayName,StartTimes,endTimes);
    seq:=-1;
    Coursename:=' ';
    GroupNo:=' ';
    RoomNo:=' ';
    pers:=' ';
  end loop l2;
close GROUPS_Child;
end loop l1;

  return v_ret;
end groups_Appointment;

/
--------------------------------------------------------
--  DDL for Procedure ATTEND
--------------------------------------------------------
set define off;

  CREATE OR REPLACE PROCEDURE "CENTER"."ATTEND" (crsname varchar2,groupNO number ) is
--DECLARE
lecdate date;
paytype varchar2(1);
cycls number;
maxx number;
seeq number;
nseq number;

BEGIN

select payment,cycle into paytype,cycls from courses where courseid=(select courseid from groups where tableid=(select tableid from groups where GROUPS.GROUPID=groupNO and GROUPS.COURSEID=(select courseid from courses where coursename=crsname)) );

if(paytype='2')then

begin
 select attendance.cycle into maxx from attendance where MONTHS=(select max(MONTHS)from ATTENDANCE where attendance.groupid=(select tableid from groups where GROUPS.GROUPID=groupNO and GROUPS.COURSEID=(select courseid from courses where coursename=crsname))) ;
 
 select max(nvl(seq,-1)) into nseq from ATTENDANCE where groupid=(select tableid from groups where GROUPS.GROUPID=groupNO and GROUPS.COURSEID=(select courseid from courses where coursename=crsname));
 
 EXCEPTION when NO_DATA_FOUND then maxx:=cycls;
end;
  if(maxx=cycls) then  seeq:=1; nseq:=nseq+1;
  else  select ((cycle)+1) into seeq from attendance where MONTHS=(select max(MONTHS)from ATTENDANCE where  groupid=(select tableid from groups where GROUPS.GROUPID=groupNO and GROUPS.COURSEID=(select courseid from courses where coursename=crsname)) );
  end if;
-----------------
end if;
select max(months) INTO lecdate from ATTENDANCE where CLOSESTATUS='1' and GROUPID=(select tableid from groups where GROUPS.GROUPID=groupNO and GROUPS.COURSEID=(select courseid from courses where coursename=crsname)) ;

IF(to_char(lecdate,'DD-MM-YYYY') <> to_char(sysdate,'DD-MM-YYYY') or lecdate is NULL) then 

INSERT into attendance values 
(
SEQattendance.nextval,
(select tableid from groups where GROUPS.GROUPID=groupNO and GROUPS.COURSEID=(select courseid from courses where coursename=crsname)) ,
(select nvl(max(lecnumber)+1,0) from ATTENDANCE where ATTENDANCE.GROUPID=(select tableid from groups where GROUPS.GROUPID=groupNO and GROUPS.COURSEID=(select courseid from courses where coursename=crsname))),
sysdate,'1',seeq,nseq);
seeq:=null;

end if;
COMMIT;

end attend;

/
--------------------------------------------------------
--  DDL for Procedure LOAD_FILE
--------------------------------------------------------
set define off;

  CREATE OR REPLACE PROCEDURE "CENTER"."LOAD_FILE" (sqlDML NUMBER,numberupdate NUMBER,studentname VARCHAR2,studentphone VARCHAR2 ,studentemail VARCHAR2,studentgender CHAR,studentbirthday date,studentyear NUMBER,ImageName VARCHAR2,DirectoryPath VARCHAR2)
AUTHID CURRENT_USER IS 
l_size number; 
l_file_ptr bfile;
l_blob blob;
sqlCommand VARCHAR2(250);
begin 

  IF (sqlDML =0)   then --INSERTING

      IF  (ImageName ='' and DirectoryPath ='') or (ImageName is NULL or DirectoryPath is NULL) then --NO IMAGE
      
      insert into STUDENTS VALUES 
      (
        SEQstudents.NEXTVAL,
        studentname,
        studentphone,
        studentemail,
        studentgender,
        studentbirthday,
        studentyear,
        null,null,null
      );
      
      else --IMAGE FOUND
      sqlCommand :='CREATE OR REPLACE DIRECTORY IMGDIR AS '''||DirectoryPath||'''' ;
      EXECUTE IMMEDIATE (sqlCommand);
      l_file_ptr := bfilename('IMGDIR', ImageName); 
      dbms_lob.fileopen(l_file_ptr); 
      l_size := dbms_lob.getlength(l_file_ptr);
      insert into STUDENTS VALUES 
      (
        SEQstudents.NEXTVAL,
        studentname,
        studentphone,
        studentemail,
        studentgender,
        studentbirthday,
        studentyear,
        empty_blob(),
        DirectoryPath,
        ImageName
        )returning STDIMAGE into l_blob;
        
        dbms_lob.loadfromfile(l_blob, l_file_ptr, l_size);
        dbms_lob.close(l_file_ptr);
      end if;
--------------------------------------
  else   --updateing
    IF  (ImageName ='' and DirectoryPath ='') or (ImageName is NULL or DirectoryPath is NULL) then --NO IMAGE
      update students set stdname = studentname ,
                          stdphone =studentphone,
                          email=studentemail,
                          stdgender=studentgender,
                          stdbirthday=studentbirthday,
                          stdyear=studentyear
                          WHERE STDID=numberupdate;
    else   
      
      sqlCommand :='CREATE OR REPLACE DIRECTORY IMGDIR AS '''||DirectoryPath||'''' ;
      EXECUTE IMMEDIATE (sqlCommand);
      l_file_ptr := bfilename('IMGDIR', ImageName); 
      dbms_lob.fileopen(l_file_ptr); 
      l_size := dbms_lob.getlength(l_file_ptr); 
      
      update students set stdname = studentname ,
                          stdphone =studentphone,
                          email=studentemail,
                          stdgender=studentgender,
                          PATH=DirectoryPath,
                          IMAGENAME=ImageName,
                          stdbirthday=studentbirthday,
                          stdyear=studentyear,
                          STDIMAGE=empty_blob() 
                          WHERE STDID=numberupdate
                          returning STDIMAGE into l_blob;
        
        dbms_lob.loadfromfile(l_blob, l_file_ptr, l_size);
        dbms_lob.close(l_file_ptr);
        
    end if;
------------------------------

  END if;
  

commit;

end load_file;

/
